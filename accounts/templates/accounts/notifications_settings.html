{% extends "base.html" %}

{% block title %}Préférences de notifications{% endblock %}
{% block description %}Gérez vos préférences de notifications{% endblock %}

{% block content %}
<article class="max-w-2xl mx-auto">
    <header class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">
            Préférences de notifications
        </h1>
        <p class="text-gray-600">
            Choisissez les types de notifications que vous souhaitez recevoir par email.
        </p>
    </header>

    <form method="post" class="space-y-6" novalidate>
        {% csrf_token %}

        {% if form.non_field_errors %}
        <div role="alert" class="p-4 bg-red-100 text-red-800 rounded-lg">
            {{ form.non_field_errors }}
        </div>
        {% endif %}

        <section class="bg-white shadow-md rounded-lg p-6 space-y-4">
            <div class="flex items-start">
                <div class="flex items-center h-5">
                    {{ form.notify_welcome_email }}
                </div>
                <div class="ml-3">
                    <label for="{{ form.notify_welcome_email.id_for_label }}" class="text-sm font-medium text-gray-700">
                        {{ form.notify_welcome_email.label }}
                    </label>
                    {% if form.notify_welcome_email.help_text %}
                    <p id="notify_welcome_email-help" class="mt-1 text-sm text-gray-500">
                        {{ form.notify_welcome_email.help_text }}
                    </p>
                    {% endif %}
                </div>
            </div>

            <div class="flex items-start">
                <div class="flex items-center h-5">
                    {{ form.notify_password_change }}
                </div>
                <div class="ml-3">
                    <label for="{{ form.notify_password_change.id_for_label }}" class="text-sm font-medium text-gray-700">
                        {{ form.notify_password_change.label }}
                    </label>
                    {% if form.notify_password_change.help_text %}
                    <p id="notify_password_change-help" class="mt-1 text-sm text-gray-500">
                        {{ form.notify_password_change.help_text }}
                    </p>
                    {% endif %}
                </div>
            </div>

            <div class="flex items-start">
                <div class="flex items-center h-5">
                    {{ form.notify_new_login }}
                </div>
                <div class="ml-3">
                    <label for="{{ form.notify_new_login.id_for_label }}" class="text-sm font-medium text-gray-700">
                        {{ form.notify_new_login.label }}
                    </label>
                    {% if form.notify_new_login.help_text %}
                    <p id="notify_new_login-help" class="mt-1 text-sm text-gray-500">
                        {{ form.notify_new_login.help_text }}
                    </p>
                    {% endif %}
                </div>
            </div>

            <div class="flex items-start">
                <div class="flex items-center h-5">
                    {{ form.notify_security_alerts }}
                </div>
                <div class="ml-3">
                    <label for="{{ form.notify_security_alerts.id_for_label }}" class="text-sm font-medium text-gray-700">
                        {{ form.notify_security_alerts.label }}
                    </label>
                    {% if form.notify_security_alerts.help_text %}
                    <p id="notify_security_alerts-help" class="mt-1 text-sm text-gray-500">
                        {{ form.notify_security_alerts.help_text }}
                    </p>
                    {% endif %}
                </div>
            </div>
        </section>

        <div class="flex gap-4">
            <button
                type="submit"
                class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors font-medium"
            >
                Enregistrer les préférences
            </button>
            <a
                href="{% url 'accounts:profile' %}"
                class="flex-1 px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors font-medium text-center"
            >
                Retour au profil
            </a>
        </div>
    </form>
</article>
{% endblock %}


